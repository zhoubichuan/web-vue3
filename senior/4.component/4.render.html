<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><title>五.render | Vue3.x学习笔记</title><meta name="description" content="风浪没平息 我宣告奔跑的意义">
    <link rel="modulepreload" href="/web-vue3/assets/app.8390b8a1.js"><link rel="modulepreload" href="/web-vue3/assets/4.render.html.6e84844c.js"><link rel="modulepreload" href="/web-vue3/assets/4.render.html.0a4fbf3a.js"><link rel="prefetch" href="/web-vue3/assets/index.html.fb596a5a.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.9f74e5a5.js"><link rel="prefetch" href="/web-vue3/assets/1.utils.html.4394abab.js"><link rel="prefetch" href="/web-vue3/assets/10.skill.html.89167d87.js"><link rel="prefetch" href="/web-vue3/assets/11.mock.html.2d7b2adf.js"><link rel="prefetch" href="/web-vue3/assets/12.optimization.html.977ffc3a.js"><link rel="prefetch" href="/web-vue3/assets/13.deploy.html.17e622f5.js"><link rel="prefetch" href="/web-vue3/assets/2.project.html.4f4427d3.js"><link rel="prefetch" href="/web-vue3/assets/3.vuecli.html.90a51794.js"><link rel="prefetch" href="/web-vue3/assets/4.env.html.1f19459a.js"><link rel="prefetch" href="/web-vue3/assets/5.ui.html.56c3c2c1.js"><link rel="prefetch" href="/web-vue3/assets/6.layout.html.0338432b.js"><link rel="prefetch" href="/web-vue3/assets/7.single.html.52142209.js"><link rel="prefetch" href="/web-vue3/assets/8.page.html.135f873a.js"><link rel="prefetch" href="/web-vue3/assets/9.module.html.de30fd5a.js"><link rel="prefetch" href="/web-vue3/assets/1.config.html.309067ee.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.1a419595.js"><link rel="prefetch" href="/web-vue3/assets/10.server.html.f0a98a35.js"><link rel="prefetch" href="/web-vue3/assets/11.pwa.html.6e186dfc.js"><link rel="prefetch" href="/web-vue3/assets/12.upload.html.c1028a12.js"><link rel="prefetch" href="/web-vue3/assets/13.video.html.d42d96eb.js"><link rel="prefetch" href="/web-vue3/assets/2.skill.html.189cbc4a.js"><link rel="prefetch" href="/web-vue3/assets/3.login.html.7799b507.js"><link rel="prefetch" href="/web-vue3/assets/4.projectMonitor.html.0b5763a5.js"><link rel="prefetch" href="/web-vue3/assets/5.test.html.7b7496d6.js"><link rel="prefetch" href="/web-vue3/assets/6.configurePrem.html.341b71e8.js"><link rel="prefetch" href="/web-vue3/assets/7.internationalization.html.c06c557d.js"><link rel="prefetch" href="/web-vue3/assets/8.errorCollection.html.62d1892e.js"><link rel="prefetch" href="/web-vue3/assets/9.optimize.html.57df0570.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.b8c623e0.js"><link rel="prefetch" href="/web-vue3/assets/1.vue-cli3.html.331b13dc.js"><link rel="prefetch" href="/web-vue3/assets/2.life.html.4cfe0cea.js"><link rel="prefetch" href="/web-vue3/assets/2.vue.html.57b2dfb3.js"><link rel="prefetch" href="/web-vue3/assets/2.vue1.html.981058a8.js"><link rel="prefetch" href="/web-vue3/assets/3.vue-router.html.6c501d80.js"><link rel="prefetch" href="/web-vue3/assets/4.vuex.html.b603f145.js"><link rel="prefetch" href="/web-vue3/assets/5.ui.html.818d3477.js"><link rel="prefetch" href="/web-vue3/assets/6.vueuse.html.91bedf3b.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.d20ee5b9.js"><link rel="prefetch" href="/web-vue3/assets/1.singlespa.html.4cda3316.js"><link rel="prefetch" href="/web-vue3/assets/1.singlespa2.html.c3017287.js"><link rel="prefetch" href="/web-vue3/assets/2.qiankun.html.df43f06e.js"><link rel="prefetch" href="/web-vue3/assets/2.qiankun2.html.26f61d43.js"><link rel="prefetch" href="/web-vue3/assets/3.share.html.f95c5a4a.js"><link rel="prefetch" href="/web-vue3/assets/4.dev.html.1d08b485.js"><link rel="prefetch" href="/web-vue3/assets/1.env.html.b826fd43.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.233ba2c8.js"><link rel="prefetch" href="/web-vue3/assets/10.infer.html.7be10a98.js"><link rel="prefetch" href="/web-vue3/assets/11.overlapping.html.1eddac7c.js"><link rel="prefetch" href="/web-vue3/assets/12.condition.html.636a42a9.js"><link rel="prefetch" href="/web-vue3/assets/13.builtin.html.f6f12be6.js"><link rel="prefetch" href="/web-vue3/assets/14.package.html.25ba3582.js"><link rel="prefetch" href="/web-vue3/assets/15.custom.html.261522de.js"><link rel="prefetch" href="/web-vue3/assets/16.unknown.html.688c9a5e.js"><link rel="prefetch" href="/web-vue3/assets/17.module.html.cddc14d6.js"><link rel="prefetch" href="/web-vue3/assets/18.statement.html.510e3b18.js"><link rel="prefetch" href="/web-vue3/assets/19.extend.html.1828cf2f.js"><link rel="prefetch" href="/web-vue3/assets/2.base.html.c1d2473c.js"><link rel="prefetch" href="/web-vue3/assets/3.deduction.html.c2fc45e5.js"><link rel="prefetch" href="/web-vue3/assets/4.type.html.c92aa05d.js"><link rel="prefetch" href="/web-vue3/assets/5.class.html.221656c8.js"><link rel="prefetch" href="/web-vue3/assets/6.interface.html.6d05d6df.js"><link rel="prefetch" href="/web-vue3/assets/7.generic.html.f2746095.js"><link rel="prefetch" href="/web-vue3/assets/8.compatible.html.54bd7735.js"><link rel="prefetch" href="/web-vue3/assets/9.protect.html.28d633ac.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.4ab72945.js"><link rel="prefetch" href="/web-vue3/assets/1.local.html.f0ff25b0.js"><link rel="prefetch" href="/web-vue3/assets/2.gitlab.html.61eda6b1.js"><link rel="prefetch" href="/web-vue3/assets/3.genkins.html.68aabcce.js"><link rel="prefetch" href="/web-vue3/assets/4.centos.html.72883b9d.js"><link rel="prefetch" href="/web-vue3/assets/5.nginx.html.0c5cb623.js"><link rel="prefetch" href="/web-vue3/assets/1.button.html.2c3dfea9.js"><link rel="prefetch" href="/web-vue3/assets/1.env.html.d8476ce8.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.d8b65384.js"><link rel="prefetch" href="/web-vue3/assets/1.recursion.html.78834090.js"><link rel="prefetch" href="/web-vue3/assets/10.tree.html.061b718a.js"><link rel="prefetch" href="/web-vue3/assets/12.table.html.e7a6e04f.js"><link rel="prefetch" href="/web-vue3/assets/13.publish.html.0629d0a7.js"><link rel="prefetch" href="/web-vue3/assets/2.dropdown.html.e14edfa6.js"><link rel="prefetch" href="/web-vue3/assets/3.dialog.html.559a5048.js"><link rel="prefetch" href="/web-vue3/assets/3.form.html.aeff8066.js"><link rel="prefetch" href="/web-vue3/assets/4.input.html.590b9d75.js"><link rel="prefetch" href="/web-vue3/assets/5.checkBox.html.f572ba2f.js"><link rel="prefetch" href="/web-vue3/assets/6.cascader.html.f3050418.js"><link rel="prefetch" href="/web-vue3/assets/7.date.html.3c71400d.js"><link rel="prefetch" href="/web-vue3/assets/8.dispaly.html.f4365d57.js"><link rel="prefetch" href="/web-vue3/assets/9.alert.html.34e816ae.js"><link rel="prefetch" href="/web-vue3/assets/9.dynamics.html.ca5c48f9.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.639403d4.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.9c4f1207.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.856f6fff.js"><link rel="prefetch" href="/web-vue3/assets/10.optimize.html.300e0b35.js"><link rel="prefetch" href="/web-vue3/assets/11.gencode.html.b9fda889.js"><link rel="prefetch" href="/web-vue3/assets/12.mount.html.703cbef7.js"><link rel="prefetch" href="/web-vue3/assets/13._render.html.160e743b.js"><link rel="prefetch" href="/web-vue3/assets/14._update.html.b840835b.js"><link rel="prefetch" href="/web-vue3/assets/2.initGlobalAPI.html.99db2072.js"><link rel="prefetch" href="/web-vue3/assets/3.initMixin.html.107db306.js"><link rel="prefetch" href="/web-vue3/assets/4.stateMixin.html.2576e78e.js"><link rel="prefetch" href="/web-vue3/assets/5.eventsMixin.html.4ea50755.js"><link rel="prefetch" href="/web-vue3/assets/6.lifecycleMixin.html.3dcacb20.js"><link rel="prefetch" href="/web-vue3/assets/7.renderMixin.html.b32c98ce.js"><link rel="prefetch" href="/web-vue3/assets/8.mount.html.a2f5c03d.js"><link rel="prefetch" href="/web-vue3/assets/9.ast.html.b371600d.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.1f1b5592.js"><link rel="prefetch" href="/web-vue3/assets/2.use.html.9a4d62f9.js"><link rel="prefetch" href="/web-vue3/assets/3.origin.html.d577e7de.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.15afd4c5.js"><link rel="prefetch" href="/web-vue3/assets/404.html.c038a05a.js"><link rel="prefetch" href="/web-vue3/assets/index.html.95b0a427.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.4109cac8.js"><link rel="prefetch" href="/web-vue3/assets/1.utils.html.86cde9ff.js"><link rel="prefetch" href="/web-vue3/assets/10.skill.html.5657d66a.js"><link rel="prefetch" href="/web-vue3/assets/11.mock.html.f46245ad.js"><link rel="prefetch" href="/web-vue3/assets/12.optimization.html.5e50d3ce.js"><link rel="prefetch" href="/web-vue3/assets/13.deploy.html.07ebb41a.js"><link rel="prefetch" href="/web-vue3/assets/2.project.html.0b2ca0d8.js"><link rel="prefetch" href="/web-vue3/assets/3.vuecli.html.7e0457fe.js"><link rel="prefetch" href="/web-vue3/assets/4.env.html.cbc88455.js"><link rel="prefetch" href="/web-vue3/assets/5.ui.html.5f10aed8.js"><link rel="prefetch" href="/web-vue3/assets/6.layout.html.a10daefc.js"><link rel="prefetch" href="/web-vue3/assets/7.single.html.219c836f.js"><link rel="prefetch" href="/web-vue3/assets/8.page.html.b3c49e49.js"><link rel="prefetch" href="/web-vue3/assets/9.module.html.4c3286a6.js"><link rel="prefetch" href="/web-vue3/assets/1.config.html.2a4538e9.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.81bb3b21.js"><link rel="prefetch" href="/web-vue3/assets/10.server.html.059c54f3.js"><link rel="prefetch" href="/web-vue3/assets/11.pwa.html.07fed650.js"><link rel="prefetch" href="/web-vue3/assets/12.upload.html.f72eb3e2.js"><link rel="prefetch" href="/web-vue3/assets/13.video.html.aad1b8fa.js"><link rel="prefetch" href="/web-vue3/assets/2.skill.html.dd4f5f0a.js"><link rel="prefetch" href="/web-vue3/assets/3.login.html.378bd3ae.js"><link rel="prefetch" href="/web-vue3/assets/4.projectMonitor.html.7aa0cb67.js"><link rel="prefetch" href="/web-vue3/assets/5.test.html.c5829504.js"><link rel="prefetch" href="/web-vue3/assets/6.configurePrem.html.d6c72520.js"><link rel="prefetch" href="/web-vue3/assets/7.internationalization.html.c8f72201.js"><link rel="prefetch" href="/web-vue3/assets/8.errorCollection.html.ca7c565a.js"><link rel="prefetch" href="/web-vue3/assets/9.optimize.html.0e83f57e.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.8cf7453e.js"><link rel="prefetch" href="/web-vue3/assets/1.vue-cli3.html.e5658eb9.js"><link rel="prefetch" href="/web-vue3/assets/2.life.html.41aa083b.js"><link rel="prefetch" href="/web-vue3/assets/2.vue.html.52c483ae.js"><link rel="prefetch" href="/web-vue3/assets/2.vue1.html.0641550a.js"><link rel="prefetch" href="/web-vue3/assets/3.vue-router.html.0c1845f9.js"><link rel="prefetch" href="/web-vue3/assets/4.vuex.html.4987b04b.js"><link rel="prefetch" href="/web-vue3/assets/5.ui.html.e8e48718.js"><link rel="prefetch" href="/web-vue3/assets/6.vueuse.html.cea3127a.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.15fea6eb.js"><link rel="prefetch" href="/web-vue3/assets/1.singlespa.html.3ed2f2e2.js"><link rel="prefetch" href="/web-vue3/assets/1.singlespa2.html.324f7a4c.js"><link rel="prefetch" href="/web-vue3/assets/2.qiankun.html.dcb95026.js"><link rel="prefetch" href="/web-vue3/assets/2.qiankun2.html.2a0a007a.js"><link rel="prefetch" href="/web-vue3/assets/3.share.html.bcf44c42.js"><link rel="prefetch" href="/web-vue3/assets/4.dev.html.1c0401c5.js"><link rel="prefetch" href="/web-vue3/assets/1.env.html.e989b7e6.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.52c90df3.js"><link rel="prefetch" href="/web-vue3/assets/10.infer.html.06d01233.js"><link rel="prefetch" href="/web-vue3/assets/11.overlapping.html.f966b41a.js"><link rel="prefetch" href="/web-vue3/assets/12.condition.html.f64504a1.js"><link rel="prefetch" href="/web-vue3/assets/13.builtin.html.80695410.js"><link rel="prefetch" href="/web-vue3/assets/14.package.html.066def34.js"><link rel="prefetch" href="/web-vue3/assets/15.custom.html.03e5fe47.js"><link rel="prefetch" href="/web-vue3/assets/16.unknown.html.592bb2c1.js"><link rel="prefetch" href="/web-vue3/assets/17.module.html.d2802e50.js"><link rel="prefetch" href="/web-vue3/assets/18.statement.html.1152e2f8.js"><link rel="prefetch" href="/web-vue3/assets/19.extend.html.5d3ea4c0.js"><link rel="prefetch" href="/web-vue3/assets/2.base.html.79a9b9c4.js"><link rel="prefetch" href="/web-vue3/assets/3.deduction.html.a69418e9.js"><link rel="prefetch" href="/web-vue3/assets/4.type.html.94420ddd.js"><link rel="prefetch" href="/web-vue3/assets/5.class.html.bc7f61ef.js"><link rel="prefetch" href="/web-vue3/assets/6.interface.html.56d3e083.js"><link rel="prefetch" href="/web-vue3/assets/7.generic.html.9ac50bb5.js"><link rel="prefetch" href="/web-vue3/assets/8.compatible.html.3f4ea154.js"><link rel="prefetch" href="/web-vue3/assets/9.protect.html.b2795aed.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.d9966d86.js"><link rel="prefetch" href="/web-vue3/assets/1.local.html.4df5b3e1.js"><link rel="prefetch" href="/web-vue3/assets/2.gitlab.html.4053a02f.js"><link rel="prefetch" href="/web-vue3/assets/3.genkins.html.9cc6d40c.js"><link rel="prefetch" href="/web-vue3/assets/4.centos.html.982ee507.js"><link rel="prefetch" href="/web-vue3/assets/5.nginx.html.0a32d507.js"><link rel="prefetch" href="/web-vue3/assets/1.button.html.95c60e73.js"><link rel="prefetch" href="/web-vue3/assets/1.env.html.20885c7e.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.de1b877a.js"><link rel="prefetch" href="/web-vue3/assets/1.recursion.html.0253eb5f.js"><link rel="prefetch" href="/web-vue3/assets/10.tree.html.ad6a48b5.js"><link rel="prefetch" href="/web-vue3/assets/12.table.html.e21cd00d.js"><link rel="prefetch" href="/web-vue3/assets/13.publish.html.9bba74e4.js"><link rel="prefetch" href="/web-vue3/assets/2.dropdown.html.82f86b4a.js"><link rel="prefetch" href="/web-vue3/assets/3.dialog.html.d5db7aa7.js"><link rel="prefetch" href="/web-vue3/assets/3.form.html.1379da1c.js"><link rel="prefetch" href="/web-vue3/assets/4.input.html.40804795.js"><link rel="prefetch" href="/web-vue3/assets/5.checkBox.html.da3c2254.js"><link rel="prefetch" href="/web-vue3/assets/6.cascader.html.432f5bc3.js"><link rel="prefetch" href="/web-vue3/assets/7.date.html.59c8c38f.js"><link rel="prefetch" href="/web-vue3/assets/8.dispaly.html.8ee5c8ea.js"><link rel="prefetch" href="/web-vue3/assets/9.alert.html.90100b92.js"><link rel="prefetch" href="/web-vue3/assets/9.dynamics.html.f74e3282.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.9a606624.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.d0e61b08.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.ecb82c00.js"><link rel="prefetch" href="/web-vue3/assets/10.optimize.html.8fab6090.js"><link rel="prefetch" href="/web-vue3/assets/11.gencode.html.0a1bdbcf.js"><link rel="prefetch" href="/web-vue3/assets/12.mount.html.b699c425.js"><link rel="prefetch" href="/web-vue3/assets/13._render.html.7a6aa852.js"><link rel="prefetch" href="/web-vue3/assets/14._update.html.99415da3.js"><link rel="prefetch" href="/web-vue3/assets/2.initGlobalAPI.html.ceb1f87b.js"><link rel="prefetch" href="/web-vue3/assets/3.initMixin.html.7015a932.js"><link rel="prefetch" href="/web-vue3/assets/4.stateMixin.html.c2406535.js"><link rel="prefetch" href="/web-vue3/assets/5.eventsMixin.html.c23ab67f.js"><link rel="prefetch" href="/web-vue3/assets/6.lifecycleMixin.html.167946fb.js"><link rel="prefetch" href="/web-vue3/assets/7.renderMixin.html.414350af.js"><link rel="prefetch" href="/web-vue3/assets/8.mount.html.baeba562.js"><link rel="prefetch" href="/web-vue3/assets/9.ast.html.5c18e82d.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.365131aa.js"><link rel="prefetch" href="/web-vue3/assets/2.use.html.53555ad6.js"><link rel="prefetch" href="/web-vue3/assets/3.origin.html.7011300f.js"><link rel="prefetch" href="/web-vue3/assets/1.index.html.c8cb6073.js"><link rel="prefetch" href="/web-vue3/assets/404.html.1820d32f.js">
    <link rel="stylesheet" href="/web-vue3/assets/style.935d4578.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/web-vue3/" class=""><!----><span class="site-name">Vue3.x学习笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础知识"><span class="title">基础知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础知识"><span class="title">基础知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/base/engine/1.index" class="" aria-label="一.Vue 的工程化"><!--[--><!--]--> 一.Vue 的工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/base/project/1.index" class="" aria-label="二.Vue 功能模块"><!--[--><!--]--> 二.Vue 功能模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/base/vue3.x/1.index" class="" aria-label="三.Vue 3.x全家桶"><!--[--><!--]--> 三.Vue 3.x全家桶 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="高级知识"><span class="title">高级知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="高级知识"><span class="title">高级知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/senior/2.typescript/1.index" class="" aria-label="一.TypeScript"><!--[--><!--]--> 一.TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/senior/3.deploy/1.index" class="" aria-label="二.构建部署"><!--[--><!--]--> 二.构建部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/senior/4.component/1.index" class="" aria-label="三.组件开发"><!--[--><!--]--> 三.组件开发 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue 3.x源码"><span class="title">Vue 3.x源码</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue 3.x源码"><span class="title">Vue 3.x源码</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue-cli3.x/1.index" class="" aria-label="一.Vue/cli3.x"><!--[--><!--]--> 一.Vue/cli3.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue3.x/1.index" class="" aria-label="二.Vue 3.x"><!--[--><!--]--> 二.Vue 3.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue-router4.x/1.index" class="" aria-label="三.Vue-Router4.x"><!--[--><!--]--> 三.Vue-Router4.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vuex4.x/1.index" class="" aria-label="四.Vuex4.x"><!--[--><!--]--> 四.Vuex4.x <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/web-vue3/read" class="" aria-label="Vue资料"><!--[--><!--]--> Vue资料 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础知识"><span class="title">基础知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础知识"><span class="title">基础知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/base/engine/1.index" class="" aria-label="一.Vue 的工程化"><!--[--><!--]--> 一.Vue 的工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/base/project/1.index" class="" aria-label="二.Vue 功能模块"><!--[--><!--]--> 二.Vue 功能模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/base/vue3.x/1.index" class="" aria-label="三.Vue 3.x全家桶"><!--[--><!--]--> 三.Vue 3.x全家桶 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="高级知识"><span class="title">高级知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="高级知识"><span class="title">高级知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/senior/2.typescript/1.index" class="" aria-label="一.TypeScript"><!--[--><!--]--> 一.TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/senior/3.deploy/1.index" class="" aria-label="二.构建部署"><!--[--><!--]--> 二.构建部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/senior/4.component/1.index" class="" aria-label="三.组件开发"><!--[--><!--]--> 三.组件开发 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue 3.x源码"><span class="title">Vue 3.x源码</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue 3.x源码"><span class="title">Vue 3.x源码</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue-cli3.x/1.index" class="" aria-label="一.Vue/cli3.x"><!--[--><!--]--> 一.Vue/cli3.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue3.x/1.index" class="" aria-label="二.Vue 3.x"><!--[--><!--]--> 二.Vue 3.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vue-router4.x/1.index" class="" aria-label="三.Vue-Router4.x"><!--[--><!--]--> 三.Vue-Router4.x <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web-vue3/source/vuex4.x/1.index" class="" aria-label="四.Vuex4.x"><!--[--><!--]--> 四.Vuex4.x <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/web-vue3/read" class="" aria-label="Vue资料"><!--[--><!--]--> Vue资料 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/web-vue3/senior/4.component/1.index.html" class="sidebar-item sidebar-heading" aria-label="Vue的组件开发"><!--[--><!--]--> Vue的组件开发 <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/1.button.html" class="sidebar-item sidebar-heading" aria-label="一.命令输入（按钮）"><!--[--><!--]--> 一.命令输入（按钮） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/2.dropdown.html" class="sidebar-item sidebar-heading" aria-label="一.命令输入（下拉菜单）"><!--[--><!--]--> 一.命令输入（下拉菜单） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/3.form.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（表单）"><!--[--><!--]--> 二.数据输入（表单） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/4.input.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（输入框）"><!--[--><!--]--> 二.数据输入（输入框） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/5.checkBox.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（单/复选框）"><!--[--><!--]--> 二.数据输入（单/复选框） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/6.cascader.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（级联选择）"><!--[--><!--]--> 二.数据输入（级联选择） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/7.date.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（日期）"><!--[--><!--]--> 二.数据输入（日期） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/8.dispaly.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（动态渲染）"><!--[--><!--]--> 二.数据输入（动态渲染） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/9.dynamics.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（动态）"><!--[--><!--]--> 二.数据输入（动态） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/1.env.html" class="sidebar-item sidebar-heading" aria-label="二.数据输入（富文本）"><!--[--><!--]--> 二.数据输入（富文本） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/10.tree.html" class="sidebar-item sidebar-heading" aria-label="三.数据输出（树）"><!--[--><!--]--> 三.数据输出（树） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/12.table.html" class="sidebar-item sidebar-heading" aria-label="三.数据输出（表格）"><!--[--><!--]--> 三.数据输出（表格） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/1.recursion.html" class="sidebar-item sidebar-heading" aria-label="六.导航（菜单）"><!--[--><!--]--> 六.导航（菜单） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/3.dialog.html" class="sidebar-item sidebar-heading" aria-label="七.特殊窗口（对话框）"><!--[--><!--]--> 七.特殊窗口（对话框） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web-vue3/senior/4.component/4.render.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="五.render"><!--[--><!--]--> 五.render <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/web-vue3/senior/4.component/4.render.html#_1-render-函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.Render 函数"><!--[--><!--]--> 1.Render 函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web-vue3/senior/4.component/4.render.html#_2-约束" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.约束"><!--[--><!--]--> 2.约束 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web-vue3/senior/4.component/4.render.html#_3-render-函数使用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.Render 函数使用场景"><!--[--><!--]--> 3.Render 函数使用场景 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web-vue3/senior/4.component/4.render.html#_4-functional-render" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.Functional Render"><!--[--><!--]--> 4.Functional Render <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/web-vue3/senior/4.component/9.alert.html" class="sidebar-item sidebar-heading" aria-label="七.特殊窗口（警告提示）"><!--[--><!--]--> 七.特殊窗口（警告提示） <!--[--><!--]--></a><!----></li><li><a href="/web-vue3/senior/4.component/13.publish.html" class="sidebar-item sidebar-heading" aria-label="十三.组件发布"><!--[--><!--]--> 十三.组件发布 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="五-render" tabindex="-1"><a class="header-anchor" href="#五-render" aria-hidden="true">#</a> 五.render</h1><div class="custom-container tip"><p class="custom-container-title">前言</p><p>多选框组件</p></div><h2 id="_1-render-函数" tabindex="-1"><a class="header-anchor" href="#_1-render-函数" aria-hidden="true">#</a> 1.Render 函数</h2><p>template 和 render 写法的对照：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">div</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">id</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;main&quot;</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">class</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;container&quot;</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">style</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;color: red&quot;</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">p</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">v-if</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">show</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">&gt;内容 1&lt;/</span><span style="color:#116329;">p</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">p</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">v-else</span><span style="color:#24292F;">&gt;内容 2&lt;/</span><span style="color:#116329;">p</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;/</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">data</span><span style="color:#953800;">() </span><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">      show: </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">data</span><span style="color:#953800;">() </span><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">      show: </span><span style="color:#0550AE;">false</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">let</span><span style="color:#24292F;"> childNode</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">if</span><span style="color:#24292F;"> (</span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.show) {</span></span>
<span class="line"><span style="color:#24292F;">      childNode </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;p&quot;</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">&quot;内容 1&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">    } </span><span style="color:#CF222E;">else</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">      childNode </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;p&quot;</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">&quot;内容 2&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">      {</span></span>
<span class="line"><span style="color:#24292F;">        attrs: {</span></span>
<span class="line"><span style="color:#24292F;">          id: </span><span style="color:#0A3069;">&quot;main&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">        },</span></span>
<span class="line"><span style="color:#24292F;">        class: {</span></span>
<span class="line"><span style="color:#24292F;">          container: </span><span style="color:#0550AE;">true</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">        },</span></span>
<span class="line"><span style="color:#24292F;">        style: {</span></span>
<span class="line"><span style="color:#24292F;">          color: </span><span style="color:#0A3069;">&quot;red&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">        },</span></span>
<span class="line"><span style="color:#24292F;">      },</span></span>
<span class="line"><span style="color:#24292F;">      [childNode]</span></span>
<span class="line"><span style="color:#24292F;">    )</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里<code>h</code>,即<code>createElement</code>,是 Render 函数的核心。可以看到，template 中<strong>v-if/v-else</strong>等指令，都被 JS 的<strong>if/else</strong>替代了，那<strong>v-for</strong>自然也会被<strong>for</strong>语句替换。</p><p>h 有 3 个参数，分别是：</p><p>1.要渲染的元素或组件，可以是一个 html 标签、组件选项或一个函数（不常用），该参数为必填项。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// 1.html 标签</span></span>
<span class="line"><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#6E7781;">// 2.组件选项</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> DatePicker </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;../component/data-picker.vue&quot;</span></span>
<span class="line"><span style="color:#8250DF;">h</span><span style="color:#24292F;">(DatePicker)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.对应属性的数据对象，比如组件的 props、元素的 class、绑定的事件、slot、自定义指令等，该参数是可选的。</p><p>3.子节点，可选，String 或 Array,它同样是一个 h。</p><h2 id="_2-约束" tabindex="-1"><a class="header-anchor" href="#_2-约束" aria-hidden="true">#</a> 2.约束</h2><p>所有的组件树种，如果 vNode 是组件或含有组件的 slot，那么 vNode 必须是唯一。以下两个示例是<strong>错误</strong>的。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// 局部声明组件</span></span>
<span class="line"><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">Child</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;p&quot;</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">&quot;text&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">  },</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#6E7781;">// 创建一个子节点，使用组件 Child</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">ChildNode</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(Child)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">, [ChildNode, ChildNode])</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#953800;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">, [</span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.$slots.default, </span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.$slots.default])</span></span>
<span class="line"><span style="color:#24292F;">  }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重复渲染多个组件或元素，可以疼痛感一个循环和工厂函数来解决：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">Child</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;p&quot;</span><span style="color:#24292F;">, </span><span style="color:#0A3069;">&quot;text&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">  },</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">children</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">Array</span><span style="color:#24292F;">.</span><span style="color:#8250DF;">apply</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">null</span><span style="color:#24292F;">, {</span></span>
<span class="line"><span style="color:#24292F;">      length: </span><span style="color:#0550AE;">5</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">    }).</span><span style="color:#8250DF;">map</span><span style="color:#24292F;">(() </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(Child)</span></span>
<span class="line"><span style="color:#24292F;">    })</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">, children)</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于函数有组件的 slot，复用比较复杂，需要将 slot 的每个子节点克隆一份，例如：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#953800;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">function</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">cloneVNode</span><span style="color:#24292F;">(</span><span style="color:#953800;">vnode</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#6E7781;">// 递归遍历所有子节点，并克隆</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">clonedChildren</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span></span>
<span class="line"><span style="color:#24292F;">        vnode.children </span><span style="color:#CF222E;">&amp;&amp;</span><span style="color:#24292F;"> vnode.children.</span><span style="color:#8250DF;">map</span><span style="color:#24292F;">((</span><span style="color:#953800;">vnode</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">cloneVNode</span><span style="color:#24292F;">(vnode))</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">cloned</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(vnode.tag, vnode.data, clonedChildren)</span></span>
<span class="line"><span style="color:#24292F;">      cloned.text </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.text</span></span>
<span class="line"><span style="color:#24292F;">      cloned.isComment </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.isComment</span></span>
<span class="line"><span style="color:#24292F;">      cloned.componentOptions </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.componentOptions</span></span>
<span class="line"><span style="color:#24292F;">      cloned.elm </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.elm</span></span>
<span class="line"><span style="color:#24292F;">      cloned.context </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.context</span></span>
<span class="line"><span style="color:#24292F;">      cloned.ns </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.ns</span></span>
<span class="line"><span style="color:#24292F;">      cloned.isStatic </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.isStatic</span></span>
<span class="line"><span style="color:#24292F;">      cloned.key </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> vnode.key</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> cloned</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">vNodes</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.$slots.default </span><span style="color:#CF222E;">===</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">undefined</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">?</span><span style="color:#24292F;"> [] </span><span style="color:#CF222E;">:</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.$slots.default</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">clonedVNodes</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#0550AE;">this</span><span style="color:#24292F;">.$slots.default </span><span style="color:#CF222E;">===</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">undefined</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">?</span><span style="color:#24292F;"> []</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">:</span><span style="color:#24292F;"> vNodes.</span><span style="color:#8250DF;">map</span><span style="color:#24292F;">((</span><span style="color:#953800;">vnode</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">cloneVNode</span><span style="color:#24292F;">(vnode))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">, [vNodes, clonedVNodes])</span></span>
<span class="line"><span style="color:#24292F;">  }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 Render 函数里创建一个 cloneVNode 的工厂函数，通过递归将 slot 所有子节点都克隆一份，并对 VNode 的关键属性也进行了复制。</p><p>深度克隆 slot 并非 Vue.js 内置方法，也没有得到推荐，属于黑科技，在一些特殊的场景才会使用到，正常业务几乎是用不到的。比如 iView 组件库的穿梭框组件 Transfer，就用到这种方法。</p><p>它的使用方法是：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">Transfer</span></span>
<span class="line"><span style="color:#24292F;">    :</span><span style="color:#0550AE;">data</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">data</span><span style="color:#0A3069;">&quot;</span></span>
<span class="line"><span style="color:#24292F;">    :</span><span style="color:#0550AE;">target-keys</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">targetKeys</span><span style="color:#0A3069;">&quot;</span></span>
<span class="line"><span style="color:#24292F;">    :</span><span style="color:#0550AE;">render-format</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">renderFormat</span><span style="color:#0A3069;">&quot;</span></span>
<span class="line"><span style="color:#24292F;">  &gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">div</span><span style="color:#24292F;"> :</span><span style="color:#0550AE;">style</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">{ float: </span><span style="color:#0A3069;">&#39;right&#39;</span><span style="color:#24292F;">, margin: </span><span style="color:#0A3069;">&#39;5px&#39;</span><span style="color:#24292F;"> }</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">      &lt;</span><span style="color:#116329;">Button</span><span style="color:#24292F;">  @</span><span style="color:#0550AE;">click</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">reloadMockData</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">&gt;Refresh&lt;/</span><span style="color:#116329;">Button</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;/</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;/</span><span style="color:#116329;">Transfer</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例中的默认 slot 是一个 Refresh 按钮，使用者只写了一遍，但在 Transfer 组件中，是通过克隆 VNode 的方法，显示了两遍。如果不这样做，就要声明两个具名 slot,但是左右两个的逻辑可能是完全一样的，使用者就要写两个一模一样的 slot，非常不友好。</p><h2 id="_3-render-函数使用场景" tabindex="-1"><a class="header-anchor" href="#_3-render-函数使用场景" aria-hidden="true">#</a> 3.Render 函数使用场景</h2><p>一般情况下是不推荐直接使用 Render 函数的，使用 template 足以，在 Vue.js 中，使用 Render 函数的场景，主要有以下 4 点：</p><p>1.使用两个相同 slot。在 template 中，Vue.js 不允许使用两个相同的 slot，比如下面的示例是错误的：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">slot</span><span style="color:#24292F;">&gt;&lt;/</span><span style="color:#116329;">slot</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">slot</span><span style="color:#24292F;">&gt;&lt;/</span><span style="color:#116329;">slot</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;/</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案就是上文中讲到的<strong>约束</strong>，使用一个深度克隆 VNode 节点的方法。</p><p>2.在 SSR 环境（服务端渲染），如果不是常规的 template 写法，比如通过 Vue.extend 和 new Vue 构造来生成的组件实例，是编译不过的。如 Alert 组件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// 正确写法</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Alert </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;./alert.vue&quot;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Vue </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;vue&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">Alert.</span><span style="color:#8250DF;">newInstance</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (</span><span style="color:#953800;">properties</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">props</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> properties </span><span style="color:#CF222E;">||</span><span style="color:#24292F;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">Instance</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">new</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">Vue</span><span style="color:#24292F;">({</span></span>
<span class="line"><span style="color:#24292F;">    data: props,</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">(</span><span style="color:#953800;">h</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(Alert, {</span></span>
<span class="line"><span style="color:#24292F;">        props: props,</span></span>
<span class="line"><span style="color:#24292F;">      })</span></span>
<span class="line"><span style="color:#24292F;">    },</span></span>
<span class="line"><span style="color:#24292F;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">component</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> Instance.</span><span style="color:#8250DF;">$mount</span><span style="color:#24292F;">()</span></span>
<span class="line"><span style="color:#24292F;">  document.body.</span><span style="color:#8250DF;">appendChild</span><span style="color:#24292F;">(component.$el)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">alert</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> Instance.$children[</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">add</span><span style="color:#24292F;">(</span><span style="color:#953800;">noticeProps</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      alert.</span><span style="color:#8250DF;">add</span><span style="color:#24292F;">(noticeProps)</span></span>
<span class="line"><span style="color:#24292F;">    },</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">remove</span><span style="color:#24292F;">(</span><span style="color:#953800;">name</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      alert.</span><span style="color:#8250DF;">remove</span><span style="color:#24292F;">(name)</span></span>
<span class="line"><span style="color:#24292F;">    },</span></span>
<span class="line"><span style="color:#24292F;">  }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> </span><span style="color:#24292F;">Alert</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// 在 SSR 下报错的写法</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Alert </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;./alert.vue&quot;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Vue </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;vue&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">Alert.</span><span style="color:#8250DF;">newInstance</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> (</span><span style="color:#953800;">properties</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">props</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> properties </span><span style="color:#CF222E;">||</span><span style="color:#24292F;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">div</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> document.</span><span style="color:#8250DF;">createElement</span><span style="color:#24292F;">(</span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">  div.innerHTML </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">`&lt;Alert ${</span><span style="color:#24292F;">props</span><span style="color:#0A3069;">}&gt;&lt;/Alert&gt;`</span></span>
<span class="line"><span style="color:#24292F;">  document.body.</span><span style="color:#8250DF;">appendChild</span><span style="color:#24292F;">(div)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">Instance</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">new</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">Vue</span><span style="color:#24292F;">({</span></span>
<span class="line"><span style="color:#24292F;">    el: div,</span></span>
<span class="line"><span style="color:#24292F;">    data: props,</span></span>
<span class="line"><span style="color:#24292F;">    components: { Alert },</span></span>
<span class="line"><span style="color:#24292F;">  })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">const</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">alert</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> Instance.$children[</span><span style="color:#0550AE;">0</span><span style="color:#24292F;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">  </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">add</span><span style="color:#24292F;">(</span><span style="color:#953800;">noticeProps</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      alert.</span><span style="color:#8250DF;">add</span><span style="color:#24292F;">(noticeProps)</span></span>
<span class="line"><span style="color:#24292F;">    },</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#8250DF;">remove</span><span style="color:#24292F;">(</span><span style="color:#953800;">name</span><span style="color:#24292F;">) {</span></span>
<span class="line"><span style="color:#24292F;">      alert.</span><span style="color:#8250DF;">remove</span><span style="color:#24292F;">(name)</span></span>
<span class="line"><span style="color:#24292F;">    },</span></span>
<span class="line"><span style="color:#24292F;">  }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> </span><span style="color:#24292F;">Alert</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.在 runtime 版本的 Vue.js 中，如果使用 Vue.extend 手动构造一个实例，使用 template 选项是会报错的，把 template 改成 Render 就可以了。需要注意的是，在开发独立组件时，可以通过配置 Vue.js 版本来使 template 选项可用，但这是在自己的环境，无法保证使用者的 Vue.js 版本，所以对于听过给他人用的组件，是需要考虑兼容 runtime 版本和 SSR 环境的。</p><p>4.一个 Vue.js 组件，有一部分内容需要从父级传递来显示，如果是文本之类的，直接通过<code>props</code>就可以了，如果这个内容带有样式或复杂一点的 html 结构，可以使用<code>v-html</code>指令来渲染，父级传递的仍然是一个 HTML Element 字符串，不过它仅仅是能解析正常的 html 节点且有 XSS 风险。当需要最大化程度自定义显示内容是，就需要<code>Render</code>函数，它可以渲染一个完整的 Vue.js 组件。你可能会说，用 slot 不就好了。的确，slot 作用就是做内容分发的，但在一些特殊的组件中，可能 slot 也不行。比如一个表格组件<code>Table</code>，它接收两个 props：列配置 columns 和行数据 data，不过某一列的单元格，不是只将数据显示出来那边简单，可能带有一些复杂的操作，这种场景只用 slot 是不行的，没办法确定是那一列的 slot。这种场景有两种解决方案，其一就是 Render 函数，另一种就是作用域 slot。</p><h2 id="_4-functional-render" tabindex="-1"><a class="header-anchor" href="#_4-functional-render" aria-hidden="true">#</a> 4.Functional Render</h2><p>Vue.js 提供了一个<code>function</code>的布尔值选项，设置为 true 可以使组件无状态和无实例，也就是没有 data 和 this 上下文。这样用 Render 函数返回虚拟节点可以更容易渲染，因为函数化组件只是一个函数，渲染开销要小很多。</p><p>使用函数化组件，Render 函数提供了第二参数 context 来提供临时上下文。组件需要的 data、props、slots、children、parent 都是通过这个上下文来传递的，比如 this.level 要改写为 context.props.level,this.$slots.default 改写为 context.children</p><p>函数化组件在业务中并不是很常见，而且也有类似的方法实现，比如某些场景可以用 is 特性来动态挂载组件。函数化组件主要适用于以下两个场景：</p><ul><li>程序化地在多个组件中选一个</li><li>在将 children、props、data 传递给子组件之前操作它们</li></ul><p>比如某个组件需要使用 Render 函数来自定义，而不是通过传递普通文本或 v-html 指令，这时就可以用 Function Render</p><ol><li>首先创建一个函数化组件<strong>render.js</strong></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">// render.js</span></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#24292F;">functional: </span><span style="color:#0550AE;">true</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#24292F;">props: {</span></span>
<span class="line"><span style="color:#24292F;">    render: </span><span style="color:#0550AE;">Function</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">, </span><span style="color:#953800;">ctx</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> ctx.props.</span><span style="color:#8250DF;">render</span><span style="color:#24292F;">(h)</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它只定义了一个 props:render，格式为 Function，因为 functional，所以在 render 里使用了第二个参数<code>ctx</code>来获取 props。这时一个中间文件，并且可以复用，其他组件需要这个功能时，都可以引入它。</p><p>2.创建组件：</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">&lt;!-- my-component.vue --&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">Render</span><span style="color:#24292F;"> :</span><span style="color:#0550AE;">render</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">render</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">&gt;&lt;/</span><span style="color:#116329;">Render</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;/</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Render form </span><span style="color:#0A3069;">&#39;./render.js&#39;</span><span style="color:#24292F;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">export </span><span style="color:#CF222E;">default</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">  components: { Render },</span></span>
<span class="line"><span style="color:#24292F;">  props: {</span></span>
<span class="line"><span style="color:#24292F;">    render: Function</span></span>
<span class="line"><span style="color:#24292F;">  }</span></span>
<span class="line"><span style="color:#24292F;">}</span></span>
<span class="line"><span style="color:#24292F;">&lt;/script&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.使用上面的 my-component 组件</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#ffffff;"><code><span class="line"><span style="color:#6E7781;">&lt;!-- demo.vue --&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">    &lt;</span><span style="color:#116329;">my-component</span><span style="color:#24292F;"> :</span><span style="color:#0550AE;">render</span><span style="color:#24292F;">=</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">render</span><span style="color:#0A3069;">&quot;</span><span style="color:#24292F;">&gt;&lt;/</span><span style="color:#116329;">my-component</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">  &lt;/</span><span style="color:#116329;">div</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">template</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#24292F;">&lt;</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> myComponent </span><span style="color:#CF222E;">from</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&quot;../components/my-component.vue&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">export</span><span style="color:#953800;"> </span><span style="color:#CF222E;">default</span><span style="color:#953800;"> {</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#24292F;">components: { myComponent }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">  </span><span style="color:#8250DF;">data</span><span style="color:#953800;">() </span><span style="color:#24292F;">{</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">      </span><span style="color:#8250DF;">render</span><span style="color:#24292F;">: (</span><span style="color:#953800;">h</span><span style="color:#24292F;">) </span><span style="color:#CF222E;">=&gt;</span><span style="color:#24292F;"> {</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#CF222E;">return</span><span style="color:#24292F;"> </span><span style="color:#8250DF;">h</span><span style="color:#24292F;">(</span></span>
<span class="line"><span style="color:#24292F;">          </span><span style="color:#0A3069;">&quot;div&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">          {</span></span>
<span class="line"><span style="color:#24292F;">            style: {</span></span>
<span class="line"><span style="color:#24292F;">              color: </span><span style="color:#0A3069;">&quot;red&quot;</span><span style="color:#24292F;">,</span></span>
<span class="line"><span style="color:#24292F;">            },</span></span>
<span class="line"><span style="color:#24292F;">          },</span></span>
<span class="line"><span style="color:#24292F;">          </span><span style="color:#0A3069;">&quot;自定义内容&quot;</span></span>
<span class="line"><span style="color:#24292F;">        )</span></span>
<span class="line"><span style="color:#24292F;">      },</span></span>
<span class="line"><span style="color:#24292F;">    }</span></span>
<span class="line"><span style="color:#24292F;">  }</span><span style="color:#953800;">,</span></span>
<span class="line"><span style="color:#953800;">}</span></span>
<span class="line"><span style="color:#24292F;">&lt;/</span><span style="color:#116329;">script</span><span style="color:#24292F;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的 render.js 因为只是把 demo.vue 中 Render 内容过继，并无其他用处，所以用了 Functional Render</p><p>就此来说，完全可以用 slot 取代 Function Render，那是因为只有<code>render</code>这一个 prop。如果示例中的<code>&lt;Render&gt;</code>是用<code>v-for</code>生成的，也就是多个时，用一个 slot 是实现不了的，那时用 Render 函数就很方便了。</p><div class="custom-container tip"><p class="custom-container-title">总结</p><p>通过对前端组件的分析，需要重点关注组件中易变性对组件封装的影响，它会对组件的可复用性、可扩展性产生很大影响</p></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhoubichuan@icloud.com">周必川</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/web-vue3/senior/4.component/3.dialog.html" class="" aria-label="七.特殊窗口（对话框）"><!--[--><!--]--> 七.特殊窗口（对话框） <!--[--><!--]--></a></span><span class="next"><a href="/web-vue3/senior/4.component/9.alert.html" class="" aria-label="七.特殊窗口（警告提示）"><!--[--><!--]--> 七.特殊窗口（警告提示） <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/web-vue3/assets/app.8390b8a1.js" defer></script>
  </body>
</html>
